<!doctype html>
<title>텍스트 추출</title>
<link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">

<script type="text/javascript" src="http://code.jquery.com/jquery-1.8.1.min.js"></script>
<script>
obj = setInterval("check()",2000);

function check() {
    var url = "/result/{{task_id}}";
    $.ajax({type: 'GET', url: url, async:false, success:function(data) {
        if (data.status == -1) {
            alsert(data.contents);
            clearInterval(obj)
        } else if (data.status == 0) {
            $('#contents').html(data.contents);
            clearInterval(obj)
        } else if (data.status == 1) {
            //waiting async job
        }
    }});
}
</script>
<div class="thumbnail center well well-small text-center">
    <h2>텍스트 추출</h2>
</div>
<div class="row">
    <div class="span8">
        <form action="" method="post" class="form-horizontal" id="" accept-charset="utf-8" enctype="multipart/form-data">
            <div class="control-group">
                <label for="file" class="control-label">   
                    파일 선택
                </label>
                <div class="controls">
                    <span class="help-inline">텍스트를 추출할 파일을 선택하세요</span>
                </div>
                <div class="controls">
                    <input name="file" type="file" value="" id="file" position: relative>
                </div>
            </div>
            <div class="control-group">
                <label for="contents" class="control-label">   
                    텍스트
                </label>
                <div class="controls">
                    <textarea name="contents" id="contents" position: relative>
                    </textarea>
                </div>
            </div>
    </div> <!-- .span8 -->
</div>
<div class="thumbnail center well well-small text-center">
    <button type="submit" class="btn btn-large btn-primary">텍스트 추출</button>
</div>
</form>
